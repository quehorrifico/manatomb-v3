{{ define "decks_list" }}
  {{ template "layout_header" . }}
  {{ $ctx := .Data }}

  <main class="max-w-3xl mx-auto py-10 px-4 space-y-6">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
      <div>
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="bg-gradient-to-br from-sky-400 via-cyan-300 to-slate-100 bg-clip-text text-transparent">
            My Decks
          </span>
        </h2>
        <p class="text-sm text-slate-400 mt-1">
          View and manage your Commander decks.
        </p>
      </div>

      <div class="flex flex-wrap gap-2">
        <a href="/decks/new"
           class="inline-flex items-center px-4 py-2 rounded-md bg-sky-500 text-slate-950 text-sm font-semibold hover:bg-sky-400 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-950">
          New deck
        </a>
      </div>
    </div>

    <!-- Deck list -->
    <section class="rounded-xl border border-slate-800 bg-slate-950/80 p-4 shadow-md shadow-sky-500/10">
      {{ if $ctx }}
        <ul class="divide-y divide-slate-800">
          {{ range $ctx }}
            <li class="py-3 flex items-center justify-between gap-3">
              <div class="space-y-1 min-w-0">
                <a href="/decks/{{ .ID }}"
                   class="text-sm font-semibold text-slate-100 hover:text-sky-300 transition-colors">
                  {{ .Name }}
                </a>
                <p class="text-xs text-slate-400">
                  {{ if .CommanderName }}
                    Commander: {{ .CommanderName }}
                  {{ else }}
                    Commander not set
                  {{ end }}
                </p>
                {{ if .Description }}
                  <p class="text-xs text-slate-500 line-clamp-2">
                    {{ .Description }}
                  </p>
                {{ end }}
              </div>

              <div class="flex flex-col items-end gap-1 text-xs text-slate-400 shrink-0">
                <a href="/decks/{{ .ID }}"
                   class="inline-flex items-center px-3 py-1.5 rounded-md border border-slate-700 bg-slate-950 text-[11px] text-slate-200 hover:border-sky-400 hover:text-sky-300 transition-colors">
                  Open
                </a>
              </div>
            </li>
          {{ end }}
        </ul>
      {{ else }}
        <p class="text-sm text-slate-400">
          You don't have any decks yet.
          <a href="/decks/new" class="text-sky-300 hover:text-sky-200 transition-colors font-medium">
            Create your first deck
          </a>.
        </p>
      {{ end }}
    </section>
  </main>

  {{ template "layout_footer" . }}
{{ end }}